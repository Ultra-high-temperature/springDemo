<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<body>

<!-- æµ®åŠ¨çª—å£htmlä»£ç  begin -->
<hr>
<div th:fragment="float_window" id="msg_win" style="display: block; top: 490px; visibility: visible; opacity: 1;">
    <div class="icos">
        <a id="msg_min" title="æœ€å°åŒ–" href="javascript:void 0">_</a><a id="msg_close" title="å…³é—­" href="javascript:void 0">Ã—</a>
    </div>
    <div id="msg_title">ğŸ•ç®¡ç†å·¥å…·æ </div>
    <div id="msg_content" style="overflow: auto; height: 150px; width: 100%; white-space: nowrap">
        <form action="/ban/" method="post">
            å¦‚ä¸æ…å…³é—­æ­¤å·¥å…·æ ï¼Œè¯·åˆ·æ–°é¡µé¢<br>
            è¦å°è°ï¼Ÿ<input type="text" name="id"><br>
            å°å¤šä¹…ï¼Ÿ<input type="text" name="banTime"><br>
            <button type="submit">å°äº†å®ƒ</button>
        </form>
    </div>


    <!-- æµ®åŠ¨çª—å£æ ·å¼css begin -->
    <style type="text/css">
        #msg_win {
            border: 1px solid #A67901;
            background: #EAEAEA;
            width: 240px;
            position: absolute;
            right: 0;
            font-size: 12px;
            font-family: Arial;
            margin: 0px;
            display: none;
            overflow: hidden;
            z-index: 99;
        }
        #msg_win .icos {
            position: absolute;
            top: 2px;
            *top: 0px;
            right: 2px;
            z-index: 9;
        }
        .icos a {
            float: left;
            color: #833B02;
            margin: 1px;
            text-align: center;
            font-weight: bold;
            width: 14px;
            height: 22px;
            line-height: 22px;
            padding: 1px;
            text-decoration: none;
            font-family: webdings;
        }
        .icos a:hover {
            color: #fff;
        }
        #msg_title {
            background: #BBDEF6;
            border-bottom: 1px solid #A67901;
            border-top: 1px solid #FFF;
            border-left: 1px solid #FFF;
            color: #000;
            height: 25px;
            line-height: 25px;
            text-indent: 5px;
        }
        #msg_content {
            margin: 5px;
            margin-right: 0;
            width: 230px;
            height: 126px;
            overflow: hidden;
        }
    </style>
    <!-- æµ®åŠ¨çª—å£æ ·å¼css end -->
    <!-- æµ®åŠ¨çª—å£jsï¼Œå¿…é¡»è¦æ”¾ç½®åˆ°æœ€å  begin-->
    <script type="text/javascript">
        var Message={
            set: function() {//æœ€å°åŒ–ä¸æ¢å¤çŠ¶æ€åˆ‡æ¢
                var set=this.minbtn.status == 1?[0,1,'block',this.char[0],'æœ€å°åŒ–']:[1,0,'none',this.char[1],'å±•å¼€'];
                this.minbtn.status=set[0];
                this.win.style.borderBottomWidth=set[1];
                this.content.style.display =set[2];
                this.minbtn.innerHTML =set[3]
                this.minbtn.title = set[4];
                this.win.style.top = this.getY().top;
            },
            close: function() {//å…³é—­
                this.win.style.display = 'none';
                window.onscroll = null;
            },
            setOpacity: function(x) {//è®¾ç½®é€æ˜åº¦
                var v = x >= 100 ? '': 'Alpha(opacity=' + x + ')';
                this.win.style.visibility = x<=0?'hidden':'visible';//IEæœ‰ç»å¯¹æˆ–ç›¸å¯¹å®šä½å†…å®¹ä¸éšçˆ¶é€æ˜åº¦å˜åŒ–çš„bug
                this.win.style.filter = v;
                this.win.style.opacity = x / 100;
            },
            show: function() {//æ¸æ˜¾
                clearInterval(this.timer2);
                var me = this,fx = this.fx(0, 100, 0.1),t = 0;
                this.timer2 = setInterval(function() {
                    t = fx();
                    me.setOpacity(t[0]);
                    if (t[1] == 0) {clearInterval(me.timer2) }
                },10);
            },
            fx: function(a, b, c) {//ç¼“å†²è®¡ç®—
                var cMath = Math[(a - b) > 0 ? "floor": "ceil"],c = c || 0.1;
                return function() {return [a += cMath((b - a) * c), a - b]}
            },
            getY: function() {//è®¡ç®—ç§»åŠ¨åæ ‡
                var d = document,b = document.body, e = document.documentElement;
                var s = Math.max(b.scrollTop, e.scrollTop);
                var h = /BackCompat/i.test(document.compatMode)?b.clientHeight:e.clientHeight;
                var h2 = this.win.offsetHeight;
                return {foot: s + h + h2 + 2+'px',top: s + h - h2 - 2+'px'}
            },
            moveTo: function(y) {//ç§»åŠ¨åŠ¨ç”»
                clearInterval(this.timer);
                var me = this,a = parseInt(this.win.style.top)||0;
                var fx = this.fx(a, parseInt(y));
                var t = 0 ;
                this.timer = setInterval(function() {
                    t = fx();
                    me.win.style.top = t[0]+'px';
                    if (t[1] == 0) {
                        clearInterval(me.timer);
                        me.bind();
                    }
                },10);
            },
            bind:function (){//ç»‘å®šçª—å£æ»šåŠ¨æ¡ä¸å¤§å°å˜åŒ–äº‹ä»¶
                var me=this,st,rt;
                window.onscroll = function() {
                    clearTimeout(st);
                    clearTimeout(me.timer2);
                    me.setOpacity(0);
                    st = setTimeout(function() {
                        me.win.style.top = me.getY().top;
                        me.show();
                    },600);
                };
                window.onresize = function (){
                    clearTimeout(rt);
                    rt = setTimeout(function() {me.win.style.top = me.getY().top},100);
                }
            },
            init: function() {//åˆ›å»ºHTML
                function $(id) {return document.getElementById(id)};
                this.win=$('msg_win');
                var set={minbtn: 'msg_min',closebtn: 'msg_close',title: 'msg_title',content: 'msg_content'};
                for (var Id in set) {this[Id] = $(set[Id])};
                var me = this;
                this.minbtn.onclick = function() {me.set();this.blur()};
                this.closebtn.onclick = function() {me.close()};
                this.char=navigator.userAgent.toLowerCase().indexOf('firefox')+1?['_','::','Ã—']:['0','2','r'];//FFä¸æ”¯æŒwebdingså­—ä½“
                this.minbtn.innerHTML=this.char[0];
                this.closebtn.innerHTML=this.char[2];
                setTimeout(function() {//åˆå§‹åŒ–æœ€å…ˆä½ç½®
                    me.win.style.display = 'block';
                    me.win.style.top = me.getY().foot;
                    me.moveTo(me.getY().top);
                },0);
                return this;
            }
        };
        Message.init();
    </script>
    <!-- æµ®åŠ¨çª—å£js end-->

</div>
<!-- æµ®åŠ¨çª—å£htmlä»£ç  end -->
</body>
</html>
